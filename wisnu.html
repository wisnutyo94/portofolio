<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Booking Barba Barber</title>

<link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">

<style>
*{
  box-sizing:border-box;
  font-family:'Merriweather',serif;
}

body{
  background:#000;
  color:#fff;
  padding:30px;
}

.container{
  max-width:700px;
  margin:auto;
  background:#111;
  padding:30px;
  border-radius:24px;
}

h2{
  text-align:center;
  margin-bottom:25px;
}

form{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:15px;
}

input, select{
  width:100%;
  padding:14px 18px;
  border-radius:18px;
  border:none;
  font-size:14px;
}

button{
  grid-column:span 2;
  padding:15px;
  border-radius:20px;
  border:none;
  font-size:16px;
  cursor:pointer;
  background:#fff;
  color:#000;
}

.footer{
  text-align:center;
  margin-top:25px;
  font-size:12px;
  opacity:.6;
}
</style>
</head>

<body>

<div class="container">
<h2>Booking Barba Barber</h2>

<form id="bookingForm">
  <input name="nama_lengkap" placeholder="Nama Lengkap" required>
  <input name="nomor_whatsapp" placeholder="Nomor Whatsapp" required>

  <input type="email" name="email" placeholder="Email" required>

  <select name="pilih_layanan" required>
    <option value="">Pilih Layanan</option>
    <option>Haircut</option>
    <option>Haircut + Beard</option>
    <option>Premium</option>
  </select>

  <input type="date" name="pilih_tanggal" id="tanggal" required>

  <select name="pilih_jam" required>
    <option value="">Pilih Jam</option>
    <option>11.00-12.00</option>
    <option>13.00-14.00</option>
    <option>15.00-16.00</option>
    <option>17.00-18.00</option>
    <option>19.00-20.00</option>
    <option>21.00-22.00</option>
  </select>

  <button type="submit">Booking Sekarang</button>
</form>

<div class="footer">
Powered by Barba Barber Â© 2026
</div>
</div>

<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbz_0A1AuIIDTWaQ3U43GJ9dV7sTP3eJBETzyp5Ab3WcJh3udSqUo5YeIa0hZNwrbbcIiQ/exec
";
const WA_ADMIN = "6285163010608";

// Disable tanggal lewat
document.getElementById("tanggal").min =
  new Date().toISOString().split("T")[0];

document.getElementById("bookingForm").addEventListener("submit", e => {
  e.preventDefault();
  const f = e.target;

  const data = {
    nama_lengkap: f.nama_lengkap.value,
    nomor_whatsapp: f.nomor_whatsapp.value,
    email: f.email.value,
    pilih_layanan: f.pilih_layanan.value,
    pilih_tanggal: f.pilih_tanggal.value,
    pilih_jam: f.pilih_jam.value
  };

  fetch(WEB_APP_URL, {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(res => {
    if (res.status === "failed") {
      alert(res.message);
      return;
    }

    const msg = encodeURIComponent(
`Booking Baru Barba Barber

Nama: ${data.nama_lengkap}
WA: ${data.nomor_whatsapp}
Email: ${data.email}
Layanan: ${data.pilih_layanan}
Tanggal: ${data.pilih_tanggal}
Jam: ${data.pilih_jam}`
    );

    window.open(`https://wa.me/${WA_ADMIN}?text=${msg}`, "_blank");
    alert("Booking berhasil!");
    f.reset();
  })
  .catch(() => alert("Gagal mengirim data"));
});
</script>

</body>
</html>
